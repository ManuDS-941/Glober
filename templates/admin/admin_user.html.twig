{% extends "base.html.twig" %}

{% block body %}
    
    <div class="container"> 

        
        <h1 class="text-center mb-4 mt-4" >Back Office | Gestion des Membres <a href=" {{ path('admin') }} " class="btn btn-dark">Retour Ã  l'Accueil</a></h1>         
        
        {% for message in app.flashes('success') %}
        
            <div class="bg-success text-white text-center col-md-4 mx-auto rounded p-3 mb-3">
                {{ message }}
            </div>
    
        {% endfor %}
        
        <table class="table table-striped table bordered table-dark table-hover text-center">
            
            <tr>
                {% for data in tableau %}
                
                    {% if data != 'password' %}
                        <th>{{ data|upper }}</th>
                    {% endif %}
                
                {% endfor %}

                
                <th>EDITER</th>
                <th>SUPPRIMER</th>

            </tr>

            {% for data in user %}
                <tr>
                    <td class="align-middle"> {{ data.id }} </td>
                    <td class="align-middle">{{ data.email}}</td>
                    <td class="align-middle"> {{ data.username }} </td>
                    <td class="align-middle"> {{ data.roles }} </td>
                    
                    <td class="align-middle"><a href="{{ path('admin_user_edit', {'id': data.id }) }}" class="btn btn-success text-white"><i class="fas fa-edit fa-1x"></i></a></td>
                    <td class="align-middle"><a href="{{ path('admin_user_delete', {'id': data.id }) }}" class="btn btn-danger text-white" onclick="return(confirm('Voulez vous vraiment supprimer cet utilisateur ?'))"><i class="fas fa-trash fa-1x"></i></a></td>
                </tr>
            {% endfor %}
            
        </table>
        
    </div>


{% endblock %}

